[{"path":"/2025/02/09/Goè¯­è¨€åä¸ªæŠ€å·§/","content":"GOè¯­è¨€æœ€æœ‰ä»·å€¼çš„åä¸ªæŠ€å·§GOè¯­è¨€ï¼ˆåˆç§°Golangï¼‰ä»¥å…¶ç®€æ´ã€é«˜æ•ˆå’Œå¹¶å‘æ”¯æŒè€Œé—»åã€‚ä½œä¸ºä¸€åGOå¼€å‘è€…ï¼ŒæŒæ¡ä¸€äº›å®ç”¨çš„æŠ€å·§å¯ä»¥æ˜¾è‘—æå‡ä»£ç è´¨é‡å’Œå¼€å‘æ•ˆç‡ã€‚æœ¬æ–‡å°†åˆ†äº«åä¸ªGOè¯­è¨€ä¸­æœ€æœ‰ä»·å€¼çš„æŠ€å·§ï¼Œå¹¶é€šè¿‡ä»£ç ç¤ºä¾‹å¸®åŠ©ä½ å¿«é€Ÿä¸Šæ‰‹ã€‚ 1. ä½¿ç”¨deferç®€åŒ–èµ„æºç®¡ç†deferæ˜¯GOè¯­è¨€ä¸­ç”¨äºå»¶è¿Ÿæ‰§è¡Œçš„å…³é”®å­—ï¼Œå¸¸ç”¨äºèµ„æºé‡Šæ”¾ï¼ˆå¦‚å…³é—­æ–‡ä»¶ã€è§£é”äº’æ–¥é”ç­‰ï¼‰ã€‚å®ƒå¯ä»¥ç¡®ä¿èµ„æºåœ¨å‡½æ•°ç»“æŸæ—¶è¢«æ­£ç¡®é‡Šæ”¾ï¼Œé¿å…èµ„æºæ³„æ¼ã€‚ 12345678910111213func readFile(filename string) (string, error) &#123; file, err := os.Open(filename) if err != nil &#123; return &quot;&quot;, err &#125; defer file.Close() // ç¡®ä¿æ–‡ä»¶åœ¨å‡½æ•°ç»“æŸæ—¶å…³é—­ content, err := io.ReadAll(file) if err != nil &#123; return &quot;&quot;, err &#125; return string(content), nil&#125; 2. åˆ©ç”¨goroutineå®ç°å¹¶å‘GOè¯­è¨€çš„goroutineæ˜¯å®ç°å¹¶å‘çš„æ ¸å¿ƒå·¥å…·ã€‚å®ƒæ¯”çº¿ç¨‹æ›´è½»é‡ï¼Œå¯åŠ¨é€Ÿåº¦å¿«ï¼Œé€‚åˆå¤„ç†é«˜å¹¶å‘ä»»åŠ¡ã€‚ 123456789101112func printNumbers() &#123; for i := 1; i &lt;= 5; i++ &#123; fmt.Println(i) time.Sleep(500 * time.Millisecond) &#125;&#125;func main() &#123; go printNumbers() // å¯åŠ¨ä¸€ä¸ªgoroutine go printNumbers() // å¯åŠ¨å¦ä¸€ä¸ªgoroutine time.Sleep(3 * time.Second) // ç­‰å¾…goroutineæ‰§è¡Œå®Œæ¯•&#125; 3. ä½¿ç”¨channelè¿›è¡Œé€šä¿¡channelæ˜¯GOè¯­è¨€ä¸­ç”¨äºgoroutineä¹‹é—´é€šä¿¡çš„å·¥å…·ã€‚å®ƒå¯ä»¥å®‰å…¨åœ°ä¼ é€’æ•°æ®ï¼Œé¿å…ç«æ€æ¡ä»¶ã€‚ 123456789101112131415161718192021222324func worker(id int, jobs &lt;-chan int, results chan&lt;- int) &#123; for job := range jobs &#123; fmt.Printf(&quot;Worker %d processing job %d &quot;, id, job) results &lt;- job * 2 &#125;&#125;func main() &#123; jobs := make(chan int, 10) results := make(chan int, 10) for w := 1; w &lt;= 3; w++ &#123; go worker(w, jobs, results) &#125; for j := 1; j &lt;= 5; j++ &#123; jobs &lt;- j &#125; close(jobs) for a := 1; a &lt;= 5; a++ &#123; fmt.Println(&quot;Result:&quot;, &lt;-results) &#125;&#125; 4. ä½¿ç”¨sync.WaitGroupç­‰å¾…å¤šä¸ªgoroutineå®Œæˆsync.WaitGroupç”¨äºç­‰å¾…ä¸€ç»„goroutineå®Œæˆä»»åŠ¡ï¼Œéå¸¸é€‚åˆéœ€è¦åŒæ­¥çš„åœºæ™¯ã€‚ 12345678910111213141516func worker(id int, wg *sync.WaitGroup) &#123; defer wg.Done() // ä»»åŠ¡å®Œæˆåé€šçŸ¥WaitGroup fmt.Printf(&quot;Worker %d starting &quot;, id) time.Sleep(time.Second) fmt.Printf(&quot;Worker %d done &quot;, id)&#125;func main() &#123; var wg sync.WaitGroup for i := 1; i &lt;= 3; i++ &#123; wg.Add(1) // å¢åŠ WaitGroupçš„è®¡æ•°å™¨ go worker(i, &amp;wg) &#125; wg.Wait() // ç­‰å¾…æ‰€æœ‰goroutineå®Œæˆ fmt.Println(&quot;All workers done&quot;)&#125; 5. ä½¿ç”¨interfaceå®ç°å¤šæ€GOè¯­è¨€é€šè¿‡interfaceå®ç°å¤šæ€ï¼Œå…è®¸ä¸åŒç±»å‹çš„å¯¹è±¡å®ç°ç›¸åŒçš„æ¥å£ã€‚ 1234567891011121314151617181920type Animal interface &#123; Speak() string&#125;type Dog struct&#123;&#125;func (d Dog) Speak() string &#123; return &quot;Woof!&quot;&#125;type Cat struct&#123;&#125;func (c Cat) Speak() string &#123; return &quot;Meow!&quot;&#125;func main() &#123; animals := []Animal&#123;Dog&#123;&#125;, Cat&#123;&#125;&#125; for _, animal := range animals &#123; fmt.Println(animal.Speak()) &#125;&#125; 6. ä½¿ç”¨contextç®¡ç†goroutineç”Ÿå‘½å‘¨æœŸcontextç”¨äºæ§åˆ¶goroutineçš„ç”Ÿå‘½å‘¨æœŸï¼Œç‰¹åˆ«æ˜¯åœ¨éœ€è¦å–æ¶ˆä»»åŠ¡æˆ–è®¾ç½®è¶…æ—¶çš„åœºæ™¯ä¸­éå¸¸æœ‰ç”¨ã€‚ 1234567891011121314151617181920212223func worker(ctx context.Context, wg *sync.WaitGroup) &#123; defer wg.Done() for &#123; select &#123; case &lt;-ctx.Done(): fmt.Println(&quot;Worker canceled&quot;) return default: fmt.Println(&quot;Working...&quot;) time.Sleep(500 * time.Millisecond) &#125; &#125;&#125;func main() &#123; ctx, cancel := context.WithTimeout(context.Background(), 2*time.Second) defer cancel() var wg sync.WaitGroup wg.Add(1) go worker(ctx, &amp;wg) wg.Wait()&#125; 7. ä½¿ç”¨structæ ‡ç­¾å®ç°JSONåºåˆ—åŒ–GOè¯­è¨€æ”¯æŒé€šè¿‡structæ ‡ç­¾å°†ç»“æ„ä½“å­—æ®µæ˜ å°„ä¸ºJSONå­—æ®µï¼Œæ–¹ä¾¿æ•°æ®çš„åºåˆ—åŒ–å’Œååºåˆ—åŒ–ã€‚ 12345678910type User struct &#123; Name string `json:&quot;name&quot;` Email string `json:&quot;email&quot;`&#125;func main() &#123; user := User&#123;Name: &quot;Alice&quot;, Email: &quot;alice@example.com&quot;&#125; jsonData, _ := json.Marshal(user) fmt.Println(string(jsonData)) // è¾“å‡º: &#123;&quot;name&quot;:&quot;Alice&quot;,&quot;email&quot;:&quot;alice@example.com&quot;&#125;&#125; 8. ä½¿ç”¨errorsåŒ…åˆ›å»ºè‡ªå®šä¹‰é”™è¯¯GOè¯­è¨€çš„errorsåŒ…å…è®¸åˆ›å»ºè‡ªå®šä¹‰é”™è¯¯ï¼Œä¾¿äºé”™è¯¯å¤„ç†å’Œè°ƒè¯•ã€‚ 1234567891011121314151617import &quot;errors&quot;func divide(a, b int) (int, error) &#123; if b == 0 &#123; return 0, errors.New(&quot;division by zero&quot;) &#125; return a / b, nil&#125;func main() &#123; result, err := divide(10, 0) if err != nil &#123; fmt.Println(&quot;Error:&quot;, err) &#125; else &#123; fmt.Println(&quot;Result:&quot;, result) &#125;&#125; 9. ä½¿ç”¨go modç®¡ç†ä¾èµ–go modæ˜¯GOè¯­è¨€çš„å®˜æ–¹ä¾èµ–ç®¡ç†å·¥å…·ï¼Œå¯ä»¥è½»æ¾ç®¡ç†é¡¹ç›®çš„ä¾èµ–å…³ç³»ã€‚ 12345678# åˆå§‹åŒ–æ¨¡å—go mod init myproject# æ·»åŠ ä¾èµ–go get github.com/example/package# æ¸…ç†æœªä½¿ç”¨çš„ä¾èµ–go mod tidy 10. ä½¿ç”¨testingåŒ…ç¼–å†™å•å…ƒæµ‹è¯•GOè¯­è¨€å†…ç½®äº†testingåŒ…ï¼Œæ”¯æŒç¼–å†™å•å…ƒæµ‹è¯•ï¼Œç¡®ä¿ä»£ç è´¨é‡ã€‚ 123456789101112import &quot;testing&quot;func Add(a, b int) int &#123; return a + b&#125;func TestAdd(t *testing.T) &#123; result := Add(2, 3) if result != 5 &#123; t.Errorf(&quot;Expected 5, got %d&quot;, result) &#125;&#125; è¿è¡Œæµ‹è¯•ï¼š 1go test ä»¥ä¸Šæ˜¯GOè¯­è¨€ä¸­æœ€æœ‰ä»·å€¼çš„åä¸ªæŠ€å·§ï¼Œæ¶µç›–äº†èµ„æºç®¡ç†ã€å¹¶å‘ç¼–ç¨‹ã€é”™è¯¯å¤„ç†ç­‰å¤šä¸ªæ–¹é¢ã€‚å¸Œæœ›è¿™äº›æŠ€å·§èƒ½å¸®åŠ©ä½ å†™å‡ºæ›´é«˜æ•ˆã€æ›´å¥å£®çš„GOä»£ç ï¼å¦‚æœä½ æœ‰å…¶ä»–é—®é¢˜ï¼Œæ¬¢è¿åœ¨è¯„è®ºåŒºç•™è¨€è®¨è®ºã€‚"},{"path":"/2025/02/08/tts/","content":"1. å®‰è£…ttshttps://github.com/idiap/coqui-ai-TTS"},{"path":"/2025/02/06/è‡ªæˆ‘ä»‹ç»/","content":"è‡ªæˆ‘ä»‹ç» âœ¨æˆ‘æ˜¯ è‘£æ´ªä¼Ÿï¼Œä¸€åæ¥è‡ª åŒ—äº¬ çš„ è½¯ä»¶å·¥ç¨‹å¸ˆã€‚æˆ‘çƒ­çˆ±ç¼–ç¨‹å’ŒæŠ€æœ¯åˆ†äº«ï¼Œä¸“æ³¨äº Web å¼€å‘ å’Œ äººå·¥æ™ºèƒ½ é¢†åŸŸã€‚ @keyframes glow { 0% { text-shadow: 0 0 5px #33FF57, 0 0 10px #33FF57; } 100% { text-shadow: 0 0 20px #33FF57, 0 0 30px #33FF57; } } ğŸš€ æˆ‘çš„ç»å† æ•™è‚²èƒŒæ™¯ï¼šæ¯•ä¸šäº å—äº¬ç†å·¥å¤§å­¦ï¼Œä¸»ä¿® æ™ºèƒ½ç§‘å­¦ä¸æŠ€æœ¯ã€‚ å·¥ä½œç»å†ï¼šç›®å‰åœ¨ ç™¾åº¦ æ‹…ä»»æ‹…ä»»èµ„æ·±å¼€å‘å·¥ç¨‹å¸ˆã€‚ æŠ€æœ¯æ ˆï¼šç†Ÿç»ƒæŒæ¡ Golangã€Pythonã€‚ ğŸŒŸ æˆ‘çš„å…´è¶£ å–œæ¬¢ç ”ç©¶ å‰æ²¿æŠ€æœ¯ï¼Œå°¤å…¶æ˜¯ AIGC å’Œ å·¥ç¨‹æ¶æ„ã€‚ ä¸šä½™æ—¶é—´ä¼šå†™ä¸€äº›æŠ€æœ¯åšå®¢ï¼Œåˆ†äº«æˆ‘çš„å­¦ä¹ å’Œå®è·µç»éªŒã€‚ çƒ­çˆ± é˜…è¯»å¹´å‡é˜…è¯»é‡ 50+ã€‚ ğŸ“¬ è”ç³»æˆ‘å¦‚æœä½ å¯¹æˆ‘çš„åšå®¢å†…å®¹æ„Ÿå…´è¶£ï¼Œæˆ–è€…æœ‰ä»»ä½•é—®é¢˜ï¼Œæ¬¢è¿é€šè¿‡ä»¥ä¸‹æ–¹å¼è”ç³»æˆ‘ï¼š é‚®ç®±ï¼šderekdongsir@163.com GitHub: https://github.com/DerekDongSir ä¸ªäººç½‘ç«™ï¼šhttps://blog.derekdong.com/ æ„Ÿè°¢ä½ çš„é˜…è¯»ï¼ŒæœŸå¾…ä¸ä½ äº¤æµï¼ğŸ‰"},{"path":"/2025/01/26/è¯„è®ºç³»ç»Ÿ/","content":"https://zhuanlan.zhihu.com/p/691921194https://giscus.app/zh-CN"},{"title":"Sug","path":"/2025/01/26/sug/","content":"ç”Ÿäº§ç¯å¢ƒçš„sugåŠŸèƒ½å¦‚ä½•å®ç°"},{"title":"Hello World","path":"/2025/01/26/hello-world/","content":"Welcome to Hexo! This is your very first post. Check documentation for more info. If you get any problems when using Hexo, you can find the answer in troubleshooting or you can ask me on GitHub. Quick StartCreate a new post1$ hexo new &quot;My New Post&quot; More info: Writing Run server1$ hexo server More info: Server Generate static files1$ hexo generate More info: Generating Deploy to remote sites1$ hexo deploy More info: Deployment document.addEventListener('DOMContentLoaded', function() { const heatmapChartDom = document.getElementById('heatmapChart-0'); if (heatmapChartDom) { const isDarkMode = window.matchMedia && window.matchMedia('(prefers-color-scheme: dark)').matches; const backgroundColor = isDarkMode ? '#333' : 'transparent'; let heatmapChart = echarts.init(heatmapChartDom, isDarkMode ? 'dark' : 'light'); const cellSize = [16, 16]; const groupedData = {\"2025\":[[\"2025-01-26\",3]]}; const years = Object.keys(groupedData).reverse(); const initYear = '2025' || years[0]; // Define color themes const themes = { oceanic: ['#A6D8E8', '#6FB3D2', '#4A90BF', '#2E6A8E', '#1A4461'], forest: ['#ACE7AE', '#8FD694', '#69C16D', '#549F57', '#3A7D3E'], sunset: ['#FFD1A6', '#FFA07A', '#FF6F52', '#D94A3D', '#A62B2B'], earthy: ['#E3C8A8', '#C4A076', '#A57C52', '#7A5A3A', '#4E3A28'], pastel: ['#F5D5E6', '#E8B8D0', '#D18FB8', '#A86A8E', '#7A4A61'], golden: ['#FFEBB5', '#FFD966', '#FFB74D', '#D18F4A', '#A66B2B'], berry: ['#F4C2D7', '#E88BB3', '#D94A7A', '#A62B5C', '#7A1F3D'], charcoal: ['#E0E0E0', '#9E9E9E', '#616161', '#424242', '#212121'], }; // Function to get a random theme function getRandomTheme() { const themeKeys = Object.keys(themes); const randomKey = themeKeys[Math.floor(Math.random() * themeKeys.length)]; return themes[randomKey]; } // Use the specified theme or default to 'random' const colors = themes['random'.toLowerCase()] || getRandomTheme(); const chartOptions = { backgroundColor: backgroundColor, tooltip: { position: 'top', confine: true, formatter: params => `${params.value[0]}: ${params.value[1]} Article${params.value[1] !== 1 ? 's' : ''}`, }, calendar: { top: '13%', left: '2%', right: '8%', range: initYear, cellSize: cellSize, splitLine: { lineStyle: { color: '#E0E0E0', width: 1 } }, itemStyle: { borderWidth: 1, borderColor: '#E0E0E0', color: backgroundColor }, dayLabel: { show: false }, monthLabel: { show: true }, yearLabel: { show: false }, }, visualMap: { show: true, right: '8%', bottom: '5%', type: 'piecewise', orient: 'horizontal', text: ['More', 'Less'], min: 0, max: Math.max(...groupedData[initYear].map(item => item[1])), inRange: { color: colors }, }, legend: { type: 'scroll', icon: 'none', data: years, orient: 'vertical', top: '5%', right: 'right', itemWidth: 20, itemHeight: 20, itemGap: 10, pageIconSize: 10, pageTextStyle: { fontSize: 14 }, selectedMode: 'single', }, series: years.map(year => ({ type: 'heatmap', coordinateSystem: 'calendar', data: groupedData[year], name: year, emphasis: { disabled: true }, silent: year !== initYear, })), }; heatmapChart.setOption(chartOptions); heatmapChart.dispatchAction({ type: 'legendSelect', name: initYear, }); // Function to handle legend selection changes const handleLegendSelectChanged = function(params) { const selectedYear = Object.keys(params.selected).find(key => params.selected[key]); if (selectedYear && groupedData[selectedYear]) { heatmapChart.setOption({ calendar: { range: selectedYear }, visualMap: { max: Math.max(...groupedData[selectedYear].map(item => item[1])), }, series: years.map(year => ({ type: 'heatmap', coordinateSystem: 'calendar', data: groupedData[year], name: year, emphasis: { disabled: true }, silent: year !== selectedYear, })), }); } }; const handleClick = function(params) { if (params.componentType === 'series') { const [year, month] = params.value[0].split('-'); window.location.href = '/archives/' + year + '/' + month; } }; heatmapChart.on('legendselectchanged', handleLegendSelectChanged); heatmapChart.on('click', handleClick); // Listen for theme changes window.matchMedia('(prefers-color-scheme: dark)').addEventListener('change', (event) => { heatmapChart.dispose(); heatmapChart = echarts.init(heatmapChartDom, event.matches ? 'dark' : 'light'); const newBackgroundColor = event.matches ? '#333' : 'transparent'; chartOptions.backgroundColor = newBackgroundColor; chartOptions.calendar.itemStyle.color = newBackgroundColor; heatmapChart.setOption(chartOptions); // Re-select the initial year heatmapChart.dispatchAction({ type: 'legendSelect', name: initYear, }); // Reattach the event listeners heatmapChart.on('legendselectchanged', handleLegendSelectChanged); heatmapChart.on('click', handleClick); }); } }); Powered by hexo-stats-echarts"},{"path":"/prompt.html","content":"ä½ æ˜¯ä¸€åGOæŠ€æœ¯ä¸“å®¶ï¼Œæ“…é•¿ä½¿ç”¨GOè¯­è¨€ï¼ŒåŒæ—¶ï¼Œä½ æ˜¯ä¸€åæŠ€æœ¯åšä¸»ï¼Œæ“…é•¿å°†æŠ€æœ¯çŸ¥è¯†ä»¥é€šä¿—æ˜“æ‡‚çš„æ–¹å¼è¿›è¡Œè®²è§£ã€‚ ç°åœ¨ï¼Œä½ æ­£åœ¨å†™ä¸€ç¯‡å…³äºGOè¯­è¨€çš„æ–‡ç« ï¼Œæ–‡ç« çš„æ ‡é¢˜æ˜¯ï¼šã€ŠGOè¯­è¨€æœ€æœ‰ä»·å€¼çš„åä¸ªæŠ€å·§ã€‹ã€‚ è¯·æ ¹æ®ä»¥ä¸‹è¦æ±‚ï¼Œæ’°å†™ä¸€ç¯‡å…³äºGOè¯­è¨€ç¼–ç¨‹çš„æ–‡ç« ï¼š æ–‡ç« éœ€è¦åŒ…å«10ä¸ªGOè¯­è¨€çš„æŠ€å·§ã€‚ æ–‡ç« éœ€è¦ä½¿ç”¨é€šä¿—æ˜“æ‡‚çš„è¯­è¨€ï¼Œè®©è¯»è€…å®¹æ˜“ç†è§£ã€‚ æ–‡ç« éœ€è¦åŒ…å«ä»£ç ç¤ºä¾‹ï¼Œè®©è¯»è€…å¯ä»¥å®é™…æ“ä½œã€‚ æ–‡ç« ä»¥markdownæ ¼å¼ç¼–å†™ï¼Œå¹¶ä½¿ç”¨ä»£ç é«˜äº®ã€‚"}]